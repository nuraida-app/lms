import{e as p,H as v,u as f,I as j,j as a,r as N,M as k,P as L,Y as T,B as w,J as y}from"./index-DnLSs86n.js";import{A as M}from"./Menus-C_0QUNbK.js";import{T as E}from"./Menus-CeiNyHsH.js";const C=({children:r,title:i})=>{const t=p(),c=v(),{user:e}=f(s=>s.auth),[d,{isLoading:g,error:H}]=j(),o=e==null?void 0:e.role,m=e==null?void 0:e.name,b=s=>{if(s.label==="Tahfiz"){const n=e.name.replace(/\s+/g,"-"),l=s.link+`/${e.nis}/${n}`;t(l)}else if(s.label==="Biodata"){const n=e.name.replace(/\s+/g,"-"),l=s.link+`/${n}/${e.nis}`;t(l)}else t(s.link)},h=()=>{t("/guru-database")},x=async()=>{try{await d().unwrap(),c(y()),t("/")}catch(s){console.log(s.data.message)}},u=()=>{switch(o){case"admin":return"/admin-dashboard";case"teacher":return"/guru-profil";case"student":return"/siswa-dashboard";default:return"/"}};return a.jsxs(N.Fragment,{children:[a.jsx(k,{title:i}),a.jsx(L,{roles:["teacher","admin","student"]}),a.jsx("div",{className:"container-fluid fixed-top bg-info",children:a.jsx("nav",{className:"navbar navbar-expand-lg","aria-label":"Thirteenth navbar example",children:a.jsxs("div",{className:"container-fluid",children:[a.jsx("a",{className:"navbar-brand col-lg-2 me-0 text-white",href:u(),children:o==="admin"?"Admin Satuan":m}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarsExample11","aria-controls":"navbarsExample11","aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"collapse navbar-collapse d-lg-flex",id:"navbarsExample11",children:a.jsxs("div",{className:"navbar-nav col-12 justify-content-lg-end d-flex gap-2",children:[(o==="admin"?M:o==="teacher"?E:T).map((s,n)=>a.jsx("button",{className:"btn btn-light",onClick:()=>b(s),children:s.label},n)),e&&(e==null?void 0:e.homeroom)===1&&a.jsx("button",{className:"btn btn-warning",onClick:h,children:"Database"}),g?a.jsx(w,{}):a.jsx("button",{className:"btn btn-danger",onClick:x,children:"Logout"})]})})]})})}),a.jsx("div",{className:"container-fluid bg-light",style:{marginTop:"65px",minHeight:"calc(100vh - 65px)"},children:r})]})};export{C as L};
