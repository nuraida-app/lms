import{H as x,e as b,u,I as p,r as n,j as a,P as h,M as v,B as j,J as f}from"./index-DnLSs86n.js";import{A as N}from"./Menus-C_0QUNbK.js";const T=({children:l,title:o})=>{const r=x(),t=b(),{user:s}=u(e=>e.auth),[i,{isLoading:c,error:L}]=p(),d=e=>{t(e)},g=async()=>{try{await i().unwrap(),r(f()),t("/")}catch(e){console.log(e.data.message)}};return n.useEffect(()=>{const e=setTimeout(()=>{(s==null?void 0:s.role)!=="admin"&&t("/")},500);return()=>clearTimeout(e)},[s,t]),a.jsxs(n.Fragment,{children:[a.jsx(h,{roles:["admin"]}),a.jsx(v,{title:o}),a.jsx("div",{className:"container-fluid fixed-top bg-info",children:a.jsx("nav",{className:"navbar navbar-expand-lg","aria-label":"Thirteenth navbar example",children:a.jsxs("div",{className:"container-fluid",children:[a.jsx("a",{className:"navbar-brand col-lg-2 me-0 text-white",href:"/admin-dashboard",children:s==null?void 0:s.name}),a.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarsExample11","aria-controls":"navbarsExample11","aria-expanded":"false","aria-label":"Toggle navigation",children:a.jsx("span",{className:"navbar-toggler-icon"})}),a.jsx("div",{className:"collapse navbar-collapse d-lg-flex",id:"navbarsExample11",children:a.jsxs("div",{className:"navbar-nav col-12 justify-content-lg-end d-flex gap-2",children:[N.map((e,m)=>a.jsx("button",{className:"btn btn-light",onClick:()=>d(e.link),children:e.label},m)),c?a.jsx(j,{}):a.jsx("button",{className:"btn btn-danger",onClick:g,children:"Logout"})]})})]})})}),a.jsx("div",{className:"container-fluid",style:{marginTop:"65px",height:"calc(100vh - 65px)"},children:l})]})};export{T as L};
