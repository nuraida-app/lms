import{r,a as v,a7 as y,y as x,j as e,c as k,a8 as C}from"./index-DnLSs86n.js";import{L as G}from"./Layout-C308tWzO.js";import{T as S}from"./TabelContainer-0T-vlQNa.js";import"./index-DESm-F1K.js";const w=({detail:t,clear:l})=>{const[i,o]=r.useState(""),[m,n]=r.useState(""),[h,a]=r.useState(""),{data:d}=v(),[c,{data:u,isSuccess:g,isLoading:b,error:j,reset:p}]=y(),f=s=>{s.preventDefault(),c({id:i,grade:h,home:m})},N=()=>{a(""),n(""),o(""),l()};return r.useEffect(()=>{g&&(x.success(u.message),a(""),n(""),o(""),l(),p()),j&&(x.error(j.data.message),p())},[u,g,j]),r.useEffect(()=>{t&&(o(t.id),a(t.grade),n(t.homebase_id))},[t]),e.jsxs("div",{className:"mt-2 p-2 shadow rounded bg-white border border-2",children:[e.jsx("p",{className:"h5",children:"Tambahkan Jenjang Pendidikan"}),e.jsxs("form",{action:"",className:"d-flex flex-column gap-2",onSubmit:f,children:[e.jsxs("select",{name:"home",id:"home1",className:"form-select",value:m||"",onChange:s=>n(s.target.value),children:[e.jsx("option",{value:"",hidden:!0,children:"Pilih Satuan"}),d==null?void 0:d.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("input",{type:"text",name:"name",id:"",className:"form-control",placeholder:"Jenjang Pendidika",value:h||"",onChange:s=>a(s.target.value)}),e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-warning",onClick:N,children:"Batal"}),e.jsx("button",{type:"submit",className:"btn btn-success",children:b?"Loading...":"+ Tambahkan"})]})]})]})},T=()=>{const[t,l]=r.useState(""),{data:i}=k(),[o,{data:m,isSuccess:n,isLoading:h,error:a,reset:d}]=C();return r.useEffect(()=>{n&&(x.success(m.message),d()),a&&(x.error(a.data.message),d())},[m,n,a]),e.jsx(G,{title:"Jenjang Pendidikan",children:e.jsxs("div",{className:"row",style:{height:"100%"},children:[e.jsx("div",{className:"col-lg-3 col-12",children:e.jsx(w,{detail:t,clear:()=>l({})})}),e.jsx("div",{className:"col-lg-9 col-12",children:e.jsx(S,{children:e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"text-center",children:"#"}),e.jsx("th",{scope:"col",className:"text-center",children:"Satuan"}),e.jsx("th",{scope:"col",className:"text-center",children:"Jenjang"}),e.jsx("th",{scope:"col",className:"text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:i==null?void 0:i.map((c,u)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"aign-middle text-center",children:u+1}),e.jsx("td",{className:"aign-middle text-center",children:c.homebase}),e.jsx("td",{className:"aign-middle text-center",children:c.grade}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[e.jsx("button",{className:"btn btn-warning",onClick:()=>l(c),children:"Edit"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>o(c.id),children:h?"Loading...":"Hapus"})]})})]},c.id))})]})})})]})})};export{T as default};
