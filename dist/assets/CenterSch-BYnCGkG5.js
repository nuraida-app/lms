import{r as c,a5 as f,y as u,j as e,a as g,a6 as N}from"./index-DnLSs86n.js";import{L as v}from"./Layout-C308tWzO.js";import{T as y}from"./TabelContainer-0T-vlQNa.js";import"./index-DESm-F1K.js";const S=({homebase:a,clear:o})=>{const[l,r]=c.useState(null),[d,s]=c.useState(""),[x,{data:t,isSuccess:m,isLoading:n,error:i,reset:j}]=f(),b=h=>{h.preventDefault(),x({id:l,name:d})},p=()=>{r(""),s(""),o()};return c.useEffect(()=>{m&&(u.success(t.message),s(""),r(""),j()),i&&(u.error(i.data.message),j())},[t,m,i]),c.useEffect(()=>{a&&(r(a.id),s(a.name))},[a]),e.jsxs("div",{className:"mt-2 p-2 shadow rounded bg-white border border-2",children:[e.jsx("p",{className:"h5",children:"Tambahkan Satuan"}),e.jsxs("form",{action:"",className:"d-flex flex-column gap-3",children:[e.jsx("input",{type:"text",name:"name",id:"",className:"form-control",placeholder:"Nama Satuan Pendidikan",value:d,onChange:h=>s(h.target.value)}),e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-warning",onClick:p,children:"Batal"}),e.jsx("button",{type:"submit",className:"btn btn-success",onClick:b,children:n?"Loading...":"+ Tambahkan"})]})]})]})},L=()=>{const[a,o]=c.useState(""),{data:l}=g(),[r,{data:d,isSuccess:s,isLoading:x,error:t,reset:m}]=N();return c.useEffect(()=>{s&&(u.success(d.message),m()),t&&u.error(t.data.message)},[d,s,t]),e.jsx(v,{title:"Satuan Pendidikan",children:e.jsxs("div",{className:"row",style:{height:"100%"},children:[e.jsx("div",{className:"col-lg-3 col-12",children:e.jsx(S,{homebase:a,clear:()=>o({})})}),e.jsx("div",{className:"col-lg-9 col-12 ",children:e.jsx(y,{children:e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"text-center",children:"#"}),e.jsx("th",{scope:"col",className:"text-center",children:"Nama Satuan Pendidikan"}),e.jsx("th",{scope:"col",className:"text-center",children:"Handle"})]})}),e.jsx("tbody",{children:l==null?void 0:l.map((n,i)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",className:"text-center",children:i+1}),e.jsx("td",{children:n.name}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[e.jsx("button",{className:"btn btn-warning",onClick:()=>o(n),children:"Edit"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>r(n.id),children:x?"Loading...":"Hapus"})]})})]},n.id))})]})})})]})})};export{L as default};
