import{e as N,u as k,r as i,ab as u,j as a}from"./index-SXBgl-Na.js";import{L as v}from"./Layout-hNi7fEzx.js";import{T as y}from"./TabelContainer-YSWDuOy7.js";import"./Menus-CeiNyHsH.js";import"./index-CzZiVV_3.js";const f=[{label:"No"},{label:"Tahun Ajar"},{label:"NIS"},{label:"Nama Lengkap"},{label:"Tingkat"},{label:"Kelas"},{label:"Database"},{label:"Aksi"}],$=()=>{const r=N(),{user:s}=k(e=>e.auth),[l,d]=i.useState(1),[c,o]=i.useState(10),[m,x]=i.useState(""),h=s==null?void 0:s.class_code,{data:g={}}=u({page:l,limit:c,search:m,classCode:h}),{students:n=[],totalPages:b}=g,p=(e,t)=>{const j=e.replace(/\s+/g,"-");r(`/guru-database/${j}/${t}`)};return a.jsx(v,{title:"Database",children:a.jsx(y,{page:l,setPage:e=>d(e),setLimit:e=>o(e),onValue:e=>x(e),totalPages:b,children:a.jsxs("table",{className:"table table-striped table-hover",children:[a.jsx("thead",{children:a.jsx("tr",{children:f.map((e,t)=>a.jsx("th",{scope:"col",className:"text-center",children:e.label},t))})}),a.jsx("tbody",{children:n==null?void 0:n.map((e,t)=>a.jsxs("tr",{children:[a.jsx("th",{scope:"row",className:"text-center align-middle",children:(l-1)*c+t+1}),a.jsx("td",{className:"align-middle text-center",children:e.year}),a.jsx("td",{className:"align-middle text-center",children:e.nis}),a.jsx("td",{className:"align-middle",children:e.name}),a.jsx("td",{className:"text-center align-middle",children:e.grade}),a.jsx("td",{className:"text-center align-middle",children:e.class}),a.jsx("td",{className:"text-center align-middle",children:a.jsx("div",{className:"progress",style:{width:"100%"},children:a.jsx("div",{className:"progress-bar shadow",role:"progressbar",style:{width:`${e.kelengkapan?e.kelengkapan:0}%`},"aria-valuenow":e.kelengkapan,"aria-valuemin":"0","aria-valuemax":100,children:`${e.kelengkapan}%`})})}),a.jsx("td",{children:a.jsx("div",{className:"d-flex justify-content-center gap-2",children:a.jsx("button",{className:"btn btn-primary",onClick:()=>p(e.name,e.nis),children:"Detail"})})})]},e.id))})]})})})};export{$ as default};
