import{b as d,j as i,a as D,r as l,S as x,u as z,c,ak as P,al as A}from"./index-DseGlEn2.js";import{d as E,a as F,A as W,b as H,u as N,C as O,c as R,e as h,D as f}from"./FolderCopy-BZfheCFM.js";import{d as U,a as X}from"./ChevronRight-a-550WS5.js";import{d as q}from"./Storage-C_oq3xRj.js";import{d as G}from"./CalendarMonth-CJnlE0yz.js";import{d as J,S as Q}from"./Style-DG6HMcok.js";import{L as g,a as K,b as m,c as j,d as V}from"./ExitToApp-Dn-2eoyy.js";import{u as Y}from"./useTheme-fiHJaPup.js";import{T as Z,L as w}from"./Toolbar-CAcrGDEu.js";import{I as b}from"./IconButton-DGgt21TI.js";import{T as k}from"./Typography-D62_FcaR.js";const ss=()=>{const{user:s}=d(n=>n.authentication),a=[{label:"Dashboard",link:"/teacher/dashboard",icon:i.jsx(E,{sx:{color:"white"}})},{label:"Mata Pelajaran",link:"/teacher/subjects",icon:i.jsx(J,{sx:{color:"white"}})},{label:"Bank Soal",link:"/teacher/quizzes",icon:i.jsx(F,{sx:{color:"white"}})},{label:"Jadwal Ujian",link:"/teacher/schedules",icon:i.jsx(G,{sx:{color:"white"}})}];return(s==null?void 0:s.homeroom)===1&&a.splice(1,0,{label:"Database",link:"/database",icon:i.jsx(q,{sx:{color:"white"}})}),a},is=()=>{const s=D(),{user:a,isLogout:n}=d(e=>e.authentication);l.useEffect(()=>{const e=setTimeout(()=>{(a==null?void 0:a.role)!=="teacher"&&s("/")},2e3);return()=>clearTimeout(e)},[a,s]),l.useEffect(()=>{n&&(s("/"),localStorage.removeItem("login"),console.log(n))},[n])},r=240,y=s=>({width:r,transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),v=s=>({transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${s.spacing(7)} + 1px)`,[s.breakpoints.up("sm")]:{width:`calc(${s.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),S=x("div")(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:s.spacing(0,1),...s.mixins.toolbar})),as=x(W,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({zIndex:s.zIndex.drawer+1,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),...a&&{marginLeft:r,width:`calc(100% - ${r}px)`,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen})}})),ns=x(H,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({width:r,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...a&&{...y(s),"& .MuiDrawer-paper":y(s)},...!a&&{...v(s),"& .MuiDrawer-paper":v(s)}})),fs=({children:s})=>{is();const a=D(),{user:n,isAuthLoading:e}=d(o=>o.authentication),p=Y(),L=N(p.breakpoints.down("sm")),[t,u]=l.useState(!L),C=()=>{u(!0)},I=()=>{u(!1)},$=()=>a("/teacher/profile"),B=z(),_=()=>{localStorage.removeItem("login"),B(A())},M=ss();return i.jsxs(c,{sx:{display:"flex"},children:[i.jsx(O,{}),i.jsx(as,{position:"fixed",open:t,sx:{bgcolor:"#4D44B5"},children:i.jsxs(Z,{children:[i.jsx(b,{color:"inherit","aria-label":"open drawer",onClick:C,edge:"start",sx:{marginRight:5,...t&&{display:"none"}},children:i.jsx(R,{})}),e?i.jsx(Q,{variant:"text",width:180,sx:{fontSize:"2rem"}}):i.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[i.jsx(k,{variant:"h6",noWrap:!0,component:"div",children:n==null?void 0:n.name}),i.jsx(h,{onClick:$,sx:{cursor:"pointer"}})]})]})}),i.jsxs(ns,{variant:"permanent",open:t,children:[i.jsxs(S,{sx:{display:"flex",justifyContent:"space-between"},children:[i.jsx(h,{src:"/nibs.png"}),i.jsx(k,{fontWeight:"bold",children:"Nuraida LMS"}),i.jsx(b,{onClick:I,children:p.direction==="rtl"?i.jsx(U,{}):i.jsx(X,{})})]}),i.jsx(f,{}),i.jsx(g,{children:M.map((o,T)=>i.jsx(K,{disablePadding:!0,sx:{display:"block"},children:i.jsxs(m,{component:P,to:o.link,sx:{minHeight:48,justifyContent:t?"initial":"center",px:2.5},children:[i.jsx(w,{sx:{minWidth:0,mr:t?3:"auto",justifyContent:"center"},children:o.icon}),i.jsx(j,{primary:o.label,sx:{opacity:t?1:0}})]})},T))}),i.jsx(f,{}),i.jsx(g,{children:i.jsxs(m,{onClick:_,children:[i.jsx(w,{children:i.jsx(V,{sx:{color:"white"}})}),i.jsx(j,{primary:"Logout"})]})})]}),i.jsxs(c,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9",minHeight:"100vh"},children:[i.jsx(S,{}),s]})]})};export{fs as L};
