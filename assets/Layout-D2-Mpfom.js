import{i as M,j as e,b as l,a as B,r as c,aj as d,u as T,c as p,ak as H,al as E}from"./index-DIsnH_Xf.js";import{d as A,a as P,A as R,b as q,u as F,C as W,c as O,e as N,D as h}from"./FolderCopy-B8qhQldI.js";import{d as Q,a as V}from"./ChevronRight-B7sBRn01.js";import{r as X}from"./createSvgIcon-Wm_MOYli.js";import{d as G}from"./CalendarMonth-Dq7grY8y.js";import{d as U,S as J}from"./Style-xw6W94kL.js";import{L as f,a as K,b as m,c as g,d as Y}from"./ExitToApp-B9qPmLkr.js";import{u as Z}from"./useTheme-BZgM83zG.js";import{T as ss,L as j}from"./Toolbar-BM5Zh9fB.js";import{I as w}from"./IconButton-B5Esn2cm.js";import{T as b}from"./Typography-BA3Sygrx.js";var u={},es=M;Object.defineProperty(u,"__esModule",{value:!0});var y=u.default=void 0,as=es(X()),ts=e;y=u.default=(0,as.default)((0,ts.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");const is=()=>{const{user:s}=l(t=>t.authentication),a=[{label:"Dashboard",link:"/teacher/dashboard",icon:e.jsx(A,{sx:{color:"white"}})},{label:"Subjects",link:"/teacher/subjects",icon:e.jsx(U,{sx:{color:"white"}})},{label:"Quizzes",link:"/teacher/quizzes",icon:e.jsx(P,{sx:{color:"white"}})},{label:"Schedules",link:"/teacher/schedules",icon:e.jsx(G,{sx:{color:"white"}})}];return(s==null?void 0:s.homeroom)===1&&a.splice(1,0,{label:"Database",link:"/teacher/database",icon:e.jsx(y,{sx:{color:"white"}})}),a},ns=()=>{const s=B(),{user:a,isLogout:t}=l(i=>i.authentication);c.useEffect(()=>{const i=setTimeout(()=>{(a==null?void 0:a.role)!=="teacher"&&s("/")},2e3);return()=>clearTimeout(i)},[a,s]),c.useEffect(()=>{t&&(window.location.href="/",localStorage.removeItem("login"))},[t])},o=240,v=s=>({width:o,transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),S=s=>({transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${s.spacing(7)} + 1px)`,[s.breakpoints.up("sm")]:{width:`calc(${s.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),k=d("div")(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:s.spacing(0,1),...s.mixins.toolbar})),rs=d(R,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({zIndex:s.zIndex.drawer+1,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),...a&&{marginLeft:o,width:`calc(100% - ${o}px)`,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen})}})),os=d(q,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({width:o,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...a&&{...v(s),"& .MuiDrawer-paper":v(s)},...!a&&{...S(s),"& .MuiDrawer-paper":S(s)}})),ws=({children:s})=>{const{user:a,isAuthLoading:t}=l(r=>r.authentication),i=Z(),D=F(i.breakpoints.down("sm")),[n,x]=c.useState(!D),I=()=>{x(!0)},L=()=>{x(!1)},z=T(),_=()=>z(E());ns();const C=is();return e.jsxs(p,{sx:{display:"flex"},children:[e.jsx(W,{}),e.jsx(rs,{position:"fixed",open:n,sx:{bgcolor:"#4D44B5"},children:e.jsxs(ss,{children:[e.jsx(w,{color:"inherit","aria-label":"open drawer",onClick:I,edge:"start",sx:{marginRight:5,...n&&{display:"none"}},children:e.jsx(O,{})}),t?e.jsx(J,{variant:"text",width:180,sx:{fontSize:"2rem"}}):e.jsx(b,{variant:"h6",noWrap:!0,component:"div",children:a==null?void 0:a.name})]})}),e.jsxs(os,{variant:"permanent",open:n,children:[e.jsxs(k,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(N,{src:"/nibs.png"}),e.jsx(b,{fontWeight:"bold",children:"Nuraida LMS"}),e.jsx(w,{onClick:L,children:i.direction==="rtl"?e.jsx(Q,{}):e.jsx(V,{})})]}),e.jsx(h,{}),e.jsx(f,{children:C.map((r,$)=>e.jsx(K,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(m,{component:H,to:r.link,sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},children:[e.jsx(j,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:r.icon}),e.jsx(g,{primary:r.label,sx:{opacity:n?1:0}})]})},$))}),e.jsx(h,{}),e.jsx(f,{children:e.jsxs(m,{onClick:_,children:[e.jsx(j,{children:e.jsx(Y,{sx:{color:"white"}})}),e.jsx(g,{primary:"Logout"})]})})]}),e.jsxs(p,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9"},children:[e.jsx(k,{}),s]})]})};export{ws as L};
