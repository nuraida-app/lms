import{r as m,l as C,B as u,j as e,C as g,c as j,i as w,m as T,n as S}from"./index-pyvLgiPp.js";import{L as I}from"./Layout-Ba83lngP.js";import{P as R}from"./PageName-2bCy7-MC.js";import{d as _,a as P}from"./FolderDelete-CrnvDq8h.js";import{P as v}from"./Paper-B_TRKWqd.js";import{I as B}from"./Input-Bqt1Xge6.js";import{B as c}from"./Button-D-BpVUho.js";import{M as D,F as M}from"./Modal-Nb9NvaEt.js";import{T as k}from"./Typography-Bpm5f3Pe.js";import{r as A}from"./createSvgIcon-DpkDy88t.js";import{T as E}from"./TableContainer-Ksy3hKKT.js";import{T as L,a as b,b as d,c as O}from"./TableRow-C6EMtRGU.js";import{T as q}from"./TableHead-D7VdfpRE.js";import{I as F}from"./IconButton-BnVk0IqP.js";import{G}from"./Grid-85wHHUa8.js";import"./PeopleAlt-DhWVWOYT.js";import"./ExitToApp-M85dDCJw.js";import"./utils-DUk-rZz1.js";import"./GlobalStyles-DRYszFDj.js";import"./useTheme-CIzdVg6i.js";const N=()=>{const[r,o]=m.useState(!1),[i,n]=m.useState(""),[x,{data:a,isSuccess:l,isLoading:f,error:s,reset:t}]=C(),y=p=>{p.preventDefault(),x({homebase:i})};return m.useEffect(()=>{l&&(u.success(a.message),n(""),t()),s&&(u.error(s.data.message),t())},[a,l,s]),e.jsxs(v,{sx:{display:"flex",justifyContent:"end",gap:2,flexDirection:{xs:"column",md:"row"},p:1},children:[e.jsxs("form",{className:"form-add",onSubmit:y,children:[e.jsx(B,{placeholder:"Add Homebase",value:i||"",onChange:p=>n(p.target.value)}),e.jsx(c,{variant:"contained",color:"success",startIcon:f?e.jsx(g,{}):e.jsx(_,{}),type:"submit",children:"Add"})]}),e.jsx(c,{variant:"contained",color:"error",startIcon:e.jsx(P,{}),onClick:()=>o(!0),children:"delete"}),e.jsx(D,{open:r,onClose:()=>o(!1),children:e.jsx(M,{in:r,children:e.jsxs(j,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:350,md:400},bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:[e.jsx(k,{children:"Are you sure want to delete all the data related to homebase, this actions cannot be restore"}),e.jsxs(j,{sx:{display:"flex",justifyContent:"end",gap:2,mt:2},children:[e.jsx(c,{variant:"contained",color:"error",onClick:()=>o(!1),children:"cancel"}),e.jsx(c,{variant:"outlined",color:"error",children:"sure"})]})]})})})]})};var h={},z=w;Object.defineProperty(h,"__esModule",{value:!0});var H=h.default=void 0,$=z(A()),Q=e;H=h.default=(0,$.default)((0,Q.jsx)("path",{d:"M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"RemoveCircleOutline");const J=[{label:"No",width:40},{label:"Homebase",width:100},{label:"Actions",width:100}],K=({data:r})=>{const[o,{data:i,isSuccess:n,isLoadin:x,error:a,reset:l}]=T(),f=s=>o(s);return m.useEffect(()=>{n&&(u.success(i.message),l()),a&&(u.error(a.data.message),l())},[i,n,a]),e.jsx(v,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(E,{sx:{maxheight:585},children:e.jsxs(L,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(q,{children:e.jsx(b,{children:J.map((s,t)=>e.jsx(d,{align:"center",sx:{width:s.width},children:s.label},t))})}),e.jsx(O,{children:r==null?void 0:r.map((s,t)=>e.jsxs(b,{children:[e.jsx(d,{align:"center",children:t+1}),e.jsx(d,{align:"center",children:s.name}),e.jsx(d,{align:"center",children:e.jsx(F,{color:"error",onClick:()=>f(s.id),children:x?e.jsx(g,{size:24}):e.jsx(H,{})})})]},s.id))})]})})})},pe=()=>{const{data:r}=S();return e.jsxs(I,{children:[e.jsx(R,{title:"Homebase"}),e.jsxs(G,{container:!0,sx:{minHeight:"85vh",display:"flex",flexDirection:"column",gap:1},children:[e.jsx(N,{}),e.jsx(K,{data:r})]})]})};export{pe as default};
