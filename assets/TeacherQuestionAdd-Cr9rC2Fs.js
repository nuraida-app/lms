import{a3 as $,M as G,a as H,r,B as n,j as e,c as x,C as O}from"./index-CFaoof_u.js";import{P as W}from"./PageName-TTa6Mdmj.js";import{L as K}from"./Layout-Bqv_hLY4.js";import{R as V}from"./bundle-ChDsJtFk.js";/* empty css               */import{C as z}from"./CustomEditor-BKy0rEY5.js";import{G as _}from"./Grid-ClV3Ec1o.js";import{F as E}from"./FormControl-BZs5yOMZ.js";import{I as R,T as J}from"./TextField-Bwa8w5Hb.js";import{S as B}from"./Select-B725NlmR.js";import{M as a}from"./MenuItem-Dr0WxY7w.js";import{B as D}from"./Button-Cyjt7KvH.js";import"./FolderCopy-CjBaZnBq.js";import"./getThemeProps-BtYJU1E8.js";import"./Typography-DcAKAVhU.js";import"./Paper-Bl3aGdsR.js";import"./createSvgIcon-B-QSSRwX.js";import"./Modal-DyYFvg8Q.js";import"./useTheme-DOzr14v8.js";import"./GlobalStyles-BwsLZ7JT.js";import"./listItemIconClasses-C0Z8a7TX.js";import"./ChevronRight-C8kya78d.js";import"./Storage-Dbt0rUdq.js";import"./CalendarMonth-BVnK-sJQ.js";import"./Style-DKwaH2QS.js";import"./colorManipulator-CQUMc1c4.js";import"./ExitToApp-DeUhQ-c4.js";import"./Toolbar-Bw3Yww6Z.js";import"./IconButton-Ct6-YGlN.js";import"./quill.snow-C6WYHv_o.js";import"./Editor-XbldwCha.js";import"./utils-d7k_POnt.js";import"./Input-N1-PClMB.js";import"./Menu-DTz7dFrX.js";import"./Grow-BAheIvG1.js";const Pe=()=>{const[P,{data:f,isSuccess:j,isLoading:k,error:l,reset:u}]=$(),g=G(),C=H(),y=r.useRef(null),v=g.quizname,c=g.quizId,[s,b]=r.useState(1),[d,S]=r.useState(""),[i,A]=r.useState({choiceA:"",choiceB:"",choiceC:"",choiceD:"",choiceE:""}),[p,w]=r.useState(""),[m,I]=r.useState(""),[q,L]=r.useState(null),[h,Q]=r.useState(""),T=o=>t=>{A(N=>({...N,[o]:t}))},M=()=>y.current.click(),F=o=>{const t=o.target.files[0];L(t),Q(URL.createObjectURL(t))},U=o=>{if(o.preventDefault(),!d){n.error("Please give question");return}if(s===1&&!m){n.error("Please give answer key");return}if(s===1&&!p){n.error("Please give score");return}const t=new FormData;t.append("type",s),t.append("quiz_id",c),t.append("question",d),t.append("a",i.choiceA||""),t.append("b",i.choiceB||""),t.append("c",i.choiceC||""),t.append("d",i.choiceD||""),t.append("e",i.choiceE||""),t.append("key",m||""),t.append("score",p||0),q&&t.append("audio",q),P({quizId:c,body:t})};return r.useEffect(()=>{j&&(n.success(f.message),b(1),S(""),A({choiceA:"",choiceB:"",choiceC:"",choiceD:"",choiceE:""}),w(""),u(),C(`/teacher/quizzes/${v}/${c}`)),l&&(n.error(l.data.message),u())},[f,j,l,u,C,c,v]),e.jsxs(K,{children:[e.jsx(W,{title:"Add Question"}),e.jsx(_,{container:!0,sx:{minHeight:"85vh",display:"flex",flexDirection:"column",gap:2},children:e.jsxs("form",{className:"form-question",onSubmit:U,children:[e.jsxs(E,{fullWidth:!0,sx:{bgcolor:"white",boxShadow:2,borderRadius:1},children:[e.jsx(R,{children:"--Quiz Type--"}),e.jsxs(B,{label:">--Quiz Type--",value:s,onChange:o=>b(o.target.value),children:[e.jsx(a,{value:1,children:"Multiple Choice"}),e.jsx(a,{value:2,children:"Essay"})]})]}),e.jsx(z,{placeholder:"Write your question here",value:d,onChange:o=>S(o)}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",justifyContent:h?"space-between":"end"},children:[h&&e.jsx(V,{src:h,controls:!0}),e.jsx(D,{variant:"contained",color:"success",onClick:M,children:"audio"}),e.jsx("input",{ref:y,onChange:F,type:"file",accept:"audio/*",style:{display:"none"}})]}),s===1&&Object.keys(i).map((o,t)=>e.jsx(z,{placeholder:`Choice ${o.charAt(o.length-1)}`,value:i[o],onChange:T(o)},t)),e.jsxs(x,{sx:{display:"flex",alignItems:"center",p:1,bgcolor:"white",borderRadius:1,boxShadow:2,justifyContent:s===1?"space-between":"end"},children:[s===1&&e.jsxs(x,{sx:{display:"flex",gap:2},children:[e.jsxs(E,{sx:{bgcolor:"white",boxShadow:2,borderRadius:1,width:300},children:[e.jsx(R,{children:"--Correct Answer--"}),e.jsxs(B,{label:"--Correct Answer--",value:m,onChange:o=>I(o.target.value),children:[e.jsx(a,{value:"A",children:"A"}),e.jsx(a,{value:"B",children:"B"}),e.jsx(a,{value:"C",children:"C"}),e.jsx(a,{value:"D",children:"D"}),e.jsx(a,{value:"E",children:"E"})]})]}),e.jsx(J,{sx:{ml:2},required:!0,label:"Score",type:"number",value:p,onChange:o=>w(o.target.value)})]}),e.jsx(D,{variant:"contained",color:"success",type:"submit",children:k?e.jsx(O,{size:24,color:"inherit"}):"add"})]})]})})]})};export{Pe as default};
