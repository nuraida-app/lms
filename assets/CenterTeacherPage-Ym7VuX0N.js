import{r as a,g as z,x as A,y as G,j as e,c as g,C as T}from"./index-DVVZMFAy.js";import{d as R}from"./MoreHoriz-Cxtt6mhs.js";import{d as $}from"./Check-CK7e7i9i.js";import{d as w}from"./Remove-DhkOZlOa.js";import{a as F}from"./Layout-BnJ2t9xk.js";import{P as Q}from"./Paper-CojZdgXz.js";import{I as X}from"./Input-DKQUFpGi.js";import{T as q}from"./TableContainer-NtLmG29M.js";import{T as J,a as K,b as C,c as r}from"./TableRow-3lfkq1cl.js";import{T as O}from"./TableBody-CwUpeEIY.js";import{I as i}from"./IconButton-D0bPhnJn.js";import{M as U}from"./Menu-BtGv6fLg.js";import{M as y}from"./MenuItem-CdboovXi.js";import"./createSvgIcon-BBYY8FNJ.js";import"./Typography-CI31gJNE.js";import"./PeopleAlt-odce-XfD.js";import"./ExitToApp-CrF1bS-w.js";import"./Grid-Byh82s5p.js";import"./useTheme-CmsqvUfX.js";import"./utils-DWTovDIY.js";import"./GlobalStyles-D9JB72R9.js";import"./listItemIconClasses-CWPOSp7D.js";import"./Modal-Cpz68z0j.js";import"./Grow-BLVuUMNW.js";const V=[{label:"No",width:60},{label:"Homebase",width:90},{label:"NIP",width:90},{label:"Name",width:170},{label:"Subjects",width:170},{label:"Homeroom",width:50},{label:"Class",width:50},{label:"Actions",width:50}],ye=()=>{const[x,u]=a.useState(null),l=!!x,[o,I]=a.useState(""),[W,S]=a.useState(!1),v=(s,t)=>{u(s.currentTarget),I(t)},n=()=>{u(null)},{data:c,isLoading:E}=z(),[L,{data:p,isLoading:M,error:d,isSuccess:j}]=A(),[k,{data:Y}]=G(),H=()=>{o&&(n(),S(!0),k(o))},P=()=>{o&&(L(o),n())};a.useEffect(()=>{j&&toast.success(p.message),d&&toast.error(d.data.message)},[j,p,d]);const[b,B]=a.useState(""),_=s=>s.name.toLowerCase().includes(b.toLowerCase()),m=c==null?void 0:c.filter(_),D=s=>{B(s.target.value)};return e.jsx(F,{children:e.jsxs(Q,{sx:{width:"100%",overflowX:"auto"},children:[e.jsx(g,{sx:{p:1,mb:1,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column-reverse",md:"row"},gap:2},children:e.jsx(X,{placeholder:"Search Teacher",value:b,onChange:D})}),E?e.jsx(g,{sx:{height:{xs:500,md:530,lg:650,xl:790},display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T,{size:50})}):e.jsx(q,{sx:{height:{xs:500,md:530,lg:650,xl:790},overflow:"auto"},children:e.jsxs(J,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(K,{children:e.jsx(C,{children:V.map((s,t)=>e.jsx(r,{align:"center",sx:{width:s.width},children:s.label},t))})}),e.jsx(O,{children:m==null?void 0:m.map((s,t)=>{var f;return e.jsxs(C,{children:[e.jsx(r,{align:"center",children:t+1}),e.jsx(r,{align:"center",children:s.homebase_name}),e.jsx(r,{align:"center",children:s.nip}),e.jsx(r,{children:s.name}),e.jsx(r,{children:(f=s.subjects)==null?void 0:f.map((h,N)=>e.jsx("p",{children:h.subject},N))}),e.jsx(r,{align:"center",children:s.homeroom===1?e.jsx(i,{color:"success",children:e.jsx($,{})}):e.jsx(i,{color:"error",children:e.jsx(w,{})})}),e.jsx(r,{align:"center",children:s.class?e.jsx("p",{children:s.class}):e.jsx(i,{color:"error",children:e.jsx(w,{})})}),e.jsx(r,{align:"center",children:e.jsx(i,{color:"primary",id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:h=>v(h,s.id),children:M?e.jsx(T,{size:20}):e.jsx(R,{})})})]},t)})})]})}),e.jsxs(U,{id:"basic-menu",anchorEl:x,open:l,onClose:n,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(y,{onClick:H,children:"Edit"}),e.jsx(y,{onClick:P,children:"Delete"})]})]})})};export{ye as default};
