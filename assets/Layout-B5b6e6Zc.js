import{i as E,j as s,b as d,a as I,r as l,S as u,u as P,c,ak as A,al as R}from"./index-CUBHetVN.js";import{d as q,a as F,A as W,b as O,u as N,C as Q,c as V,e as f,D as m}from"./FolderCopy-DBXADfz0.js";import{d as X,a as G}from"./ChevronRight-DOUVWpEN.js";import{r as U}from"./createSvgIcon-BNiQ1uMK.js";import{d as J}from"./CalendarMonth-CAXonYvH.js";import{d as K,S as Y}from"./Style-CREQcY6J.js";import{L as g,a as Z,b as j,c as w,d as ee}from"./ExitToApp-NQb6q9Sm.js";import{u as se}from"./useTheme-C8jBbgHn.js";import{T as te,L as b}from"./Toolbar-DwhPy3O0.js";import{I as v}from"./IconButton-xtUAGam4.js";import{T as S}from"./Typography-Bk7xBqzM.js";var x={},ie=E;Object.defineProperty(x,"__esModule",{value:!0});var C=x.default=void 0,ae=ie(U()),ne=s;C=x.default=(0,ae.default)((0,ne.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");const oe=()=>{const{user:e}=d(i=>i.authentication),t=[{label:"Dashboard",link:"/teacher/dashboard",icon:s.jsx(q,{sx:{color:"white"}})},{label:"Subjects",link:"/teacher/subjects",icon:s.jsx(K,{sx:{color:"white"}})},{label:"Quizzes",link:"/teacher/quizzes",icon:s.jsx(F,{sx:{color:"white"}})},{label:"Schedules",link:"/teacher/schedules",icon:s.jsx(J,{sx:{color:"white"}})}];return(e==null?void 0:e.homeroom)===1&&t.splice(1,0,{label:"Database",link:"/teacher/database",icon:s.jsx(C,{sx:{color:"white"}})}),t},re=()=>{const e=I(),{user:t,isLogout:i}=d(n=>n.authentication);l.useEffect(()=>{const n=setTimeout(()=>{(t==null?void 0:t.role)!=="teacher"&&e("/")},2e3);return()=>clearTimeout(n)},[t,e]),l.useEffect(()=>{i&&(e("/"),localStorage.removeItem("login"),console.log(i))},[i])},r=240,y=e=>({width:r,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),k=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(7)} + 1px)`,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),D=u("div")(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar})),ce=u(W,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:t})=>({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),...t&&{marginLeft:r,width:`calc(100% - ${r}px)`,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}})),le=u(O,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:t})=>({width:r,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...y(e),"& .MuiDrawer-paper":y(e)},...!t&&{...k(e),"& .MuiDrawer-paper":k(e)}})),ve=({children:e})=>{re();const t=I(),{user:i,isAuthLoading:n}=d(o=>o.authentication),p=se(),L=N(p.breakpoints.down("sm")),[a,h]=l.useState(!L),z=()=>{h(!0)},_=()=>{h(!1)},$=()=>t("/teacher/profile"),M=P(),B=()=>{localStorage.removeItem("login"),M(R()),t("/")},H=oe();return s.jsxs(c,{sx:{display:"flex"},children:[s.jsx(Q,{}),s.jsx(ce,{position:"fixed",open:a,sx:{bgcolor:"#4D44B5"},children:s.jsxs(te,{children:[s.jsx(v,{color:"inherit","aria-label":"open drawer",onClick:z,edge:"start",sx:{marginRight:5,...a&&{display:"none"}},children:s.jsx(V,{})}),n?s.jsx(Y,{variant:"text",width:180,sx:{fontSize:"2rem"}}):s.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[s.jsx(S,{variant:"h6",noWrap:!0,component:"div",children:i==null?void 0:i.name}),s.jsx(f,{onClick:$,sx:{cursor:"pointer"}})]})]})}),s.jsxs(le,{variant:"permanent",open:a,children:[s.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[s.jsx(f,{src:"/nibs.png"}),s.jsx(S,{fontWeight:"bold",children:"Nuraida LMS"}),s.jsx(v,{onClick:_,children:p.direction==="rtl"?s.jsx(X,{}):s.jsx(G,{})})]}),s.jsx(m,{}),s.jsx(g,{children:H.map((o,T)=>s.jsx(Z,{disablePadding:!0,sx:{display:"block"},children:s.jsxs(j,{component:A,to:o.link,sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[s.jsx(b,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:o.icon}),s.jsx(w,{primary:o.label,sx:{opacity:a?1:0}})]})},T))}),s.jsx(m,{}),s.jsx(g,{children:s.jsxs(j,{onClick:B,children:[s.jsx(b,{children:s.jsx(ee,{sx:{color:"white"}})}),s.jsx(w,{primary:"Logout"})]})})]}),s.jsxs(c,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9",minHeight:"100vh"},children:[s.jsx(D,{}),e]})]})};export{ve as L};
