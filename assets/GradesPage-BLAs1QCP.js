import{j as e,c as d,J as w,r as c,B as u,C as T,i as S,K as R,L as k}from"./index-DjgEXlBM.js";import{P as _}from"./PageName-ZPCS438x.js";import{L as A}from"./Layout-BRQ_XQ2b.js";import{d as H,a as P}from"./FolderDelete---4wtr-M.js";import{M as v,F as C}from"./Modal-DCAalMQR.js";import{T as B}from"./Typography-Ck8ZmvYm.js";import{B as n}from"./Button-FzYR9QjW.js";import{T as D}from"./TextField-CYEQKP_m.js";import{r as I}from"./createSvgIcon-DbdgCAn1.js";import{P as L}from"./Paper-0_Nxrl9K.js";import{T as M}from"./TableContainer-ywpNEKl8.js";import{a as E,b as F,c as g,T as m}from"./TableRow-9p40iQCm.js";import{T as q}from"./TableBody-Dl-9RlEw.js";import{I as z}from"./IconButton-DVAIich5.js";import{G as h}from"./Grid-Cm2mtght.js";import{S as N}from"./Style-COl1V7Ra.js";import"./ChevronRight-JRIqjZRu.js";import"./GlobalStyles-naRZnfmu.js";import"./listItemIconClasses-8sYbMhEm.js";import"./useTheme-BUXj7LXp.js";import"./ListItemText-sHcdjvhz.js";import"./PeopleAlt-DJyQ-vYi.js";import"./CalendarMonth-ZeFlFCc4.js";import"./FormControl-TopU_Zco.js";import"./utils-CGVmn-r6.js";import"./Select-C4xHsIAt.js";import"./Grow-C7cMHxnE.js";import"./Input-Djdk2BZh.js";const O=({open:r,close:s})=>e.jsx(v,{open:r,onClose:s,closeAfterTransition:!0,children:e.jsx(C,{in:r,children:e.jsxs(d,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:350,md:400},bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:[e.jsx(B,{align:"center",children:"Are you sure you want to delete all grades?"}),e.jsxs(d,{sx:{display:"flex",gap:2,justifyContent:"flex-end",mt:2},children:[e.jsx(n,{variant:"contained",color:"error",onClick:s,children:"cancel"}),e.jsx(n,{variant:"outlined",color:"error",children:"sure"})]})]})})}),$=({open:r,close:s})=>{const[o,{data:a,isSuccess:f,isLoading:l,error:x,reset:b}]=w(),[t,i]=c.useState(""),G=p=>{p.preventDefault(),o({grade:t})};return c.useEffect(()=>{f&&(u.success(a.message),i(""),s()),x&&u.error(x.data.message)},[a,f,x]),e.jsx(v,{open:r,onClose:s,closeAfterTransition:!0,children:e.jsx(C,{in:r,children:e.jsx(d,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:350,md:400},bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:e.jsxs("form",{className:"form-grade",onSubmit:G,children:[e.jsx(D,{fullWidth:!0,label:"Grade",placeholder:"Grade",value:t,onChange:p=>i(p.target.value)}),e.jsxs(d,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[e.jsx(n,{variant:"outlined",color:"error",onClick:s,children:"cancel"}),e.jsx(n,{variant:"contained",color:"success",type:"submit",children:l?e.jsx(T,{size:20,color:"inherit"}):"add"})]})]})})})})},J=()=>{const[r,s]=c.useState(!1),[o,a]=c.useState(!1);return e.jsxs(d,{sx:{display:"flex",justifyContent:"end",gap:1,p:1,boxShadow:2,bgcolor:"white",borderRadius:1},children:[e.jsx(n,{variant:"contained",color:"success",startIcon:e.jsx(H,{}),onClick:()=>a(!0),sx:{width:120},children:"add"}),e.jsx(n,{startIcon:e.jsx(P,{}),variant:"contained",color:"error",onClick:()=>s(!0),sx:{width:120},children:"Delete"}),e.jsx($,{open:o,close:()=>a(!1)}),e.jsx(O,{open:r,close:()=>s(!1)})]})};var j={},K=S;Object.defineProperty(j,"__esModule",{value:!0});var y=j.default=void 0,Q=K(I()),W=e;y=j.default=(0,Q.default)((0,W.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");const U=[{label:"Homebase",width:170},{label:"Grade",width:170},{label:"Actions",width:170}],V=({grades:r})=>{const[s,{data:o,isSuccess:a,isLoading:f,error:l,reset:x}]=R(),b=t=>s(t);return c.useEffect(()=>{a&&u.success(o.message),l&&u.error(l.data.message)},[o,a,l]),e.jsx(L,{children:e.jsx(M,{sx:{height:{xs:500,md:530,xl:630},overflow:"auto"},children:e.jsxs(E,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(F,{children:e.jsx(g,{children:U.map((t,i)=>e.jsx(m,{align:"center",sx:{width:t.width},children:t.label},i))})}),e.jsx(q,{children:r==null?void 0:r.map((t,i)=>e.jsxs(g,{children:[e.jsx(m,{align:"center",children:t.homebase}),e.jsx(m,{align:"center",children:t.grade}),e.jsx(m,{align:"center",children:e.jsx(z,{onClick:()=>b(t.id),children:e.jsx(y,{sx:{color:"red"}})})})]},i))})]})})})},Se=()=>{const{data:r,isLoading:s}=k();return e.jsxs(A,{children:[e.jsx(_,{title:"Grades"}),e.jsxs(h,{container:!0,sx:{minHeight:"80vh",display:"flex",flexDirection:"column",gap:1},children:[e.jsx(h,{item:!0,xs:12,md:12,children:e.jsx(J,{})}),s?e.jsx(N,{variant:"rounded",height:530}):e.jsx(h,{item:!0,xs:12,md:12,children:e.jsx(V,{grades:r})})]})]})};export{Se as default};
