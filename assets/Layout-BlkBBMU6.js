import{i as A,j as t,b as d,a as I,r as l,aj as u,u as E,c,ak as P,al as R}from"./index-CBqzxWS9.js";import{d as q,a as F,A as W,b as O,u as N,C as Q,c as V,e as f,D as m}from"./FolderCopy-DvBcCNgU.js";import{d as X,a as G}from"./ChevronRight-BeZsILl3.js";import{r as U}from"./createSvgIcon-BY7hztag.js";import{d as J}from"./CalendarMonth-Ch2tT4zi.js";import{d as K,S as Y}from"./Style-BZ9vKAjT.js";import{L as g,a as Z,b as j,c as w,d as ee}from"./ExitToApp-C0pvusEU.js";import{u as te}from"./useTheme-Co8QHWII.js";import{T as se,L as b}from"./Toolbar-CDjnfqYK.js";import{I as v}from"./IconButton-fUZ_sEew.js";import{T as S}from"./Typography-CrWPuPVK.js";var p={},ie=A;Object.defineProperty(p,"__esModule",{value:!0});var C=p.default=void 0,ae=ie(U()),ne=t;C=p.default=(0,ae.default)((0,ne.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");const re=()=>{const{user:e}=d(i=>i.authentication),s=[{label:"Dashboard",link:"/teacher/dashboard",icon:t.jsx(q,{sx:{color:"white"}})},{label:"Subjects",link:"/teacher/subjects",icon:t.jsx(K,{sx:{color:"white"}})},{label:"Quizzes",link:"/teacher/quizzes",icon:t.jsx(F,{sx:{color:"white"}})},{label:"Schedules",link:"/teacher/schedules",icon:t.jsx(J,{sx:{color:"white"}})}];return(e==null?void 0:e.homeroom)===1&&s.splice(1,0,{label:"Database",link:"/teacher/database",icon:t.jsx(C,{sx:{color:"white"}})}),s},oe=()=>{const e=I(),{user:s,isLogout:i}=d(n=>n.authentication);l.useEffect(()=>{const n=setTimeout(()=>{(s==null?void 0:s.role)!=="teacher"&&e("/")},2e3);return()=>clearTimeout(n)},[s,e]),l.useEffect(()=>{i&&(e("/"),localStorage.removeItem("login"))},[i])},o=240;function ce(e){return{children:`${e.split(" ")[0][0]}${e.split(" ")[1][0]}`}}const y=e=>({width:o,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),k=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(7)} + 1px)`,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),D=u("div")(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar})),le=u(W,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:s})=>({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),...s&&{marginLeft:o,width:`calc(100% - ${o}px)`,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}})),de=u(O,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:s})=>({width:o,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...s&&{...y(e),"& .MuiDrawer-paper":y(e)},...!s&&{...k(e),"& .MuiDrawer-paper":k(e)}})),Se=({children:e})=>{const s=I(),{user:i,isAuthLoading:n}=d(r=>r.authentication),x=te(),L=N(x.breakpoints.down("sm")),[a,h]=l.useState(!L),$=()=>{h(!0)},z=()=>{h(!1)},_=()=>s("/teacher/profile"),M=E(),B=()=>{s("/"),localStorage.removeItem("login"),M(R())};oe();const H=re();return t.jsxs(c,{sx:{display:"flex"},children:[t.jsx(Q,{}),t.jsx(le,{position:"fixed",open:a,sx:{bgcolor:"#4D44B5"},children:t.jsxs(se,{children:[t.jsx(v,{color:"inherit","aria-label":"open drawer",onClick:$,edge:"start",sx:{marginRight:5,...a&&{display:"none"}},children:t.jsx(V,{})}),n?t.jsx(Y,{variant:"text",width:180,sx:{fontSize:"2rem"}}):t.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[t.jsx(S,{variant:"h6",noWrap:!0,component:"div",children:i==null?void 0:i.name}),t.jsx(f,{...ce(i==null?void 0:i.name),onClick:_,sx:{cursor:"pointer"}})]})]})}),t.jsxs(de,{variant:"permanent",open:a,children:[t.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(f,{src:"/nibs.png"}),t.jsx(S,{fontWeight:"bold",children:"Nuraida LMS"}),t.jsx(v,{onClick:z,children:x.direction==="rtl"?t.jsx(X,{}):t.jsx(G,{})})]}),t.jsx(m,{}),t.jsx(g,{children:H.map((r,T)=>t.jsx(Z,{disablePadding:!0,sx:{display:"block"},children:t.jsxs(j,{component:P,to:r.link,sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[t.jsx(b,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:r.icon}),t.jsx(w,{primary:r.label,sx:{opacity:a?1:0}})]})},T))}),t.jsx(m,{}),t.jsx(g,{children:t.jsxs(j,{onClick:B,children:[t.jsx(b,{children:t.jsx(ee,{sx:{color:"white"}})}),t.jsx(w,{primary:"Logout"})]})})]}),t.jsxs(c,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9",minHeight:"100vh"},children:[t.jsx(D,{}),e]})]})};export{Se as L};
