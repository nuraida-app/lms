import{bt as I,r as a,j as e,c as E,bu as y,bv as A}from"./index-DVVZMFAy.js";import{a as R}from"./Layout-BnJ2t9xk.js";import{d as H}from"./MoreHoriz-Cxtt6mhs.js";import{M as P,F as k}from"./Modal-Cpz68z0j.js";import{T as C,I as g}from"./TextField-BM3TvEiH.js";import{F as v}from"./FormControl-05Kwk5ud.js";import{S}from"./Select-CqYv7x9e.js";import{M as t}from"./MenuItem-CdboovXi.js";import{P as w}from"./Paper-CojZdgXz.js";import{I as M}from"./Input-DKQUFpGi.js";import{T as L}from"./TableContainer-NtLmG29M.js";import{T as F,a as B,b as T,c as m}from"./TableRow-3lfkq1cl.js";import{T as _}from"./TableBody-CwUpeEIY.js";import{I as D}from"./IconButton-D0bPhnJn.js";import{M as G}from"./Menu-BtGv6fLg.js";import"./createSvgIcon-BBYY8FNJ.js";import"./Typography-CI31gJNE.js";import"./PeopleAlt-odce-XfD.js";import"./ExitToApp-CrF1bS-w.js";import"./Grid-Byh82s5p.js";import"./useTheme-CmsqvUfX.js";import"./utils-DWTovDIY.js";import"./listItemIconClasses-CWPOSp7D.js";import"./GlobalStyles-D9JB72R9.js";import"./Grow-BLVuUMNW.js";const N=({open:n,close:u,admin:r})=>{const{data:i}=I(),[h,c]=a.useState(""),[j,l]=a.useState(""),[p,x]=a.useState("--Choose Role--"),[f,b]=a.useState("--Choose Homebase--"),[o,d]=a.useState("");return a.useEffect(()=>{r&&(c(r.name),l(r.email),x(r.role),b(r.homebase_id?r.homebase_id:null))},[r]),e.jsx(P,{open:n,onClose:u,closeAfterTransition:!0,children:e.jsx(k,{in:n,children:e.jsx(E,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx(C,{label:"Name",value:h||"",onChange:s=>c(s.target.value),InputLabelProps:{shrink:!0}}),e.jsx(C,{label:"Email",value:j||"",onChange:s=>l(s.target.value),InputLabelProps:{shrink:!0}}),e.jsxs(v,{fullWidth:!0,children:[e.jsx(g,{children:"Role"}),e.jsxs(S,{label:"Role",value:p,onChange:s=>x(s.target.value),children:[e.jsx(t,{value:"--Choose Role--",children:"--Choose Role--"}),e.jsx(t,{value:"super-admin",children:"Super Admin"}),e.jsx(t,{value:"admin",children:"Admin"})]})]}),p==="admin"&&e.jsxs(v,{fullWidth:!0,children:[e.jsx(g,{children:"Homebase"}),e.jsxs(S,{label:"Homebase",value:f,onChange:s=>b(s.target.value),children:[e.jsx(t,{value:"--Choose Homebase--",children:"--Choose Homebase--"}),i==null?void 0:i.map(s=>e.jsx(t,{value:s.id,children:s.name},s.id))]})]}),e.jsx(C,{label:"Password",type:"password",value:o||"",onChange:s=>d(s.target.value),InputLabelProps:{shrink:!0}})]})})})})},ue=()=>{const[n,u]=a.useState(null),r=!!n,[i,h]=a.useState(!1),[c,j]=a.useState(""),{data:l}=y(),{data:p}=A(c,{skip:!c}),x=(o,d)=>{u(o.currentTarget),j(d)},f=()=>{u(null)},b=()=>{h(!0)};return e.jsx(R,{children:e.jsxs(w,{sx:{p:1},children:[e.jsx(E,{children:e.jsx(M,{placeholder:"Search Admin"})}),e.jsx(L,{children:e.jsxs(F,{children:[e.jsx(B,{children:e.jsx(T,{children:["Name","Email","Role","Action"].map(o=>e.jsx(m,{align:"center",children:o},o))})}),e.jsx(_,{children:l==null?void 0:l.map(o=>e.jsxs(T,{children:[e.jsx(m,{align:"center",children:o.name}),e.jsx(m,{align:"center",children:o.email}),e.jsx(m,{align:"center",children:o.role}),e.jsx(m,{align:"center",children:e.jsx(D,{color:"primary",id:"basic-button","aria-controls":r?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,onClick:d=>x(d,o.id),children:e.jsx(H,{})})})]},o.id))})]})}),e.jsxs(G,{id:"basic-menu",anchorEl:n,open:r,onClose:f,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(t,{onClick:b,children:"Edit"}),e.jsx(t,{children:"Delete"})]}),e.jsx(N,{open:i,close:()=>h(!1),admin:p})]})})};export{ue as default};
