import{i as u,j as t,b as p,ak as O,a as $,r as d,S as x,u as E,c as l,al as W}from"./index-Pi4NK-hc.js";import{d as q,a as A,A as F,b as V,u as N,C as U,c as X,e as G,D as v}from"./FolderCopy-C5iLP6mR.js";import{d as Q,a as J}from"./ChevronRight-CH_0xZhb.js";import{r as h}from"./createSvgIcon-BYOduQ-c.js";import{d as K}from"./Storage-Cd-IygWj.js";import{L as D,a as Y,b as k,c as C,d as Z}from"./ExitToApp-wCZAPOmX.js";import{L,T as ee}from"./Toolbar-BflR_3Nr.js";import{u as te}from"./useTheme-DKJ__Eh-.js";import{I as i}from"./IconButton-DQIdw11I.js";import{T as b}from"./Typography-ChcBQgh6.js";var f={},ae=u;Object.defineProperty(f,"__esModule",{value:!0});var S=f.default=void 0,ne=ae(h()),se=t;S=f.default=(0,ne.default)((0,se.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-5 14H4v-4h11zm0-5H4V9h11zm5 5h-4V9h4z"}),"Web");const ie=()=>{const{user:e}=p(n=>n.authentication),a={color:"white"},s=[{label:"Dashboard",link:"/student/dashboard",icon:t.jsx(q,{sx:a})},{label:"Database",link:`/database/${e==null?void 0:e.name}/${e==null?void 0:e.nis}`,icon:t.jsx(K,{sx:a})},{label:"Mapel",link:"/student/subjects",icon:t.jsx(A,{sx:a})},{label:"Ujain",link:"/student/exam",icon:t.jsx(S,{sx:a})}];return t.jsx(D,{children:s.map((n,o)=>t.jsx(Y,{disablePadding:!0,sx:{display:"block"},children:t.jsxs(k,{component:O,to:n.link,sx:{minHeight:48,justifyContent:open?"initial":"center",px:2.5},children:[t.jsx(L,{sx:{minWidth:0,mr:open?3:"auto",justifyContent:"center"},children:n.icon}),t.jsx(C,{primary:n.label,sx:{opacity:open?1:0}})]})},o))})};var j={},re=u;Object.defineProperty(j,"__esModule",{value:!0});var I=j.default=void 0,oe=re(h()),ce=t;I=j.default=(0,oe.default)((0,ce.jsx)("path",{d:"M4 4h16v12H5.17L4 17.17zm0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm2 10h8v2H6zm0-3h12v2H6zm0-3h12v2H6z"}),"ChatOutlined");var m={},le=u;Object.defineProperty(m,"__esModule",{value:!0});var M=m.default=void 0,de=le(h()),ue=t;M=m.default=(0,de.default)((0,ue.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");const pe=()=>{const e=$(),{user:a,isLogout:s}=p(n=>n.authentication);d.useEffect(()=>{const n=setTimeout(()=>{(a==null?void 0:a.role)!=="student"&&e("/")},2e3);return()=>clearTimeout(n)},[a,e]),d.useEffect(()=>{s&&(e("/"),localStorage.removeItem("login"))},[s])},r=240,w=e=>({width:r,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),_=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${e.spacing(7)} + 1px)`,[e.breakpoints.up("sm")]:{width:`calc(${e.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),y=x("div")(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar})),xe=x(F,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:a})=>({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),...a&&{marginLeft:r,width:`calc(100% - ${r}px)`,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}})),he=x(V,{shouldForwardProp:e=>e!=="open"})(({theme:e,open:a})=>({width:r,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...a&&{...w(e),"& .MuiDrawer-paper":w(e)},...!a&&{..._(e),"& .MuiDrawer-paper":_(e)}})),De=({children:e})=>{const{user:a}=p(T=>T.authentication),s=$(),n=te(),o=N(n.breakpoints.down("sm")),[c,g]=d.useState(!o),z=()=>{g(!0)},H=()=>{g(!1)},P=()=>s("/student/profile"),B=E(),R=()=>B(W());return pe(),t.jsxs(l,{sx:{display:"flex"},children:[t.jsx(U,{}),t.jsx(xe,{position:"fixed",open:c,sx:{bgcolor:"#4D44B5"},children:t.jsxs(ee,{children:[t.jsx(i,{color:"inherit","aria-label":"open drawer",onClick:z,edge:"start",sx:{marginRight:5,...c&&{display:"none"}},children:t.jsx(X,{})}),t.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsx(b,{variant:"h6",noWrap:!0,component:"div",children:a==null?void 0:a.name}),t.jsxs("div",{children:[t.jsx(i,{color:"inherit",children:t.jsx(I,{})}),t.jsx(i,{color:"inherit",onClick:P,children:t.jsx(M,{})})]})]})]})}),t.jsxs(he,{variant:"permanent",open:c,children:[t.jsxs(y,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(G,{src:"/nibs.png"}),t.jsx(b,{fontWeight:"bold",children:"Nuraida LMS"}),t.jsx(i,{onClick:H,children:n.direction==="rtl"?t.jsx(Q,{}):t.jsx(J,{})})]}),t.jsx(v,{}),t.jsx(ie,{}),t.jsx(v,{}),t.jsx(D,{children:t.jsxs(k,{onClick:R,children:[t.jsx(L,{children:t.jsx(Z,{sx:{color:"white"}})}),t.jsx(C,{primary:"Logout"})]})})]}),t.jsxs(l,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9",minHeight:"100vh"},children:[t.jsx(y,{}),e]})]})};export{De as L};
