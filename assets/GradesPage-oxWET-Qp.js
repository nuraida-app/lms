import{j as e,c as d,E as w,r as c,B as x,C as G,i as S,F as k,G as R}from"./index-zx9QfZoY.js";import{P}from"./PageName-jjQDIWWV.js";import{L as _}from"./Layout-CrlGJOeK.js";import{d as A,a as H}from"./FolderDelete-DByTlg9y.js";import{M as v,F as C}from"./Modal-D9QrkZCY.js";import{T as I}from"./Typography-BbVuTYIM.js";import{B as n}from"./Button-DXlUDVsQ.js";import{T as B}from"./TextField-BJwxyke2.js";import{r as E}from"./createSvgIcon-ejoD_ev4.js";import{P as L}from"./Paper-DOpa6jtL.js";import{T as M}from"./TableContainer-BZTGtx4W.js";import{T as D,a as g,b as u,c as F}from"./TableRow-BN76dLse.js";import{T as q}from"./TableHead-D2TM6eWY.js";import{I as z}from"./IconButton-B86WcClk.js";import{G as h}from"./Grid-BCizA4LM.js";import{S as N}from"./Style-Z1RiwaPN.js";import"./FolderCopy-C5Wgay4i.js";import"./getThemeProps-CgUQ_SlC.js";import"./GlobalStyles-CYc0cWWR.js";import"./listItemIconClasses-2n8eT5dP.js";import"./useTheme-D7Zdti-D.js";import"./ChevronRight-DD6-zMVG.js";import"./PeopleAlt-tYum5u-5.js";import"./CalendarMonth-DsKu-ARM.js";import"./ExitToApp-CQL913Gf.js";import"./Toolbar-BcTO8NSz.js";import"./FormControl-C4c9a5nH.js";import"./utils-BeOBfU0K.js";import"./Select-SvZ_7dw1.js";import"./Menu-CYSo7JTe.js";import"./Grow-HGwcTEBV.js";import"./Input-BOlgPoNw.js";import"./colorManipulator-DVYWUa-M.js";const O=({open:r,close:t})=>e.jsx(v,{open:r,onClose:t,closeAfterTransition:!0,children:e.jsx(C,{in:r,children:e.jsxs(d,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:350,md:400},bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:[e.jsx(I,{align:"center",children:"Are you sure you want to delete all grades?"}),e.jsxs(d,{sx:{display:"flex",gap:2,justifyContent:"flex-end",mt:2},children:[e.jsx(n,{variant:"contained",color:"error",onClick:t,children:"cancel"}),e.jsx(n,{variant:"outlined",color:"error",children:"sure"})]})]})})}),$=({open:r,close:t})=>{const[o,{data:a,isSuccess:p,isLoading:l,error:m,reset:b}]=w(),[s,i]=c.useState(""),y=f=>{f.preventDefault(),o({grade:s})};return c.useEffect(()=>{p&&(x.success(a.message),i(""),t()),m&&x.error(m.data.message)},[a,p,m]),e.jsx(v,{open:r,onClose:t,closeAfterTransition:!0,children:e.jsx(C,{in:r,children:e.jsx(d,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:350,md:400},bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:e.jsxs("form",{className:"form-grade",onSubmit:y,children:[e.jsx(B,{fullWidth:!0,label:"Tingkat",placeholder:"Tingkat",value:s,onChange:f=>i(f.target.value),InputLabelProps:{shrink:!0}}),e.jsxs(d,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[e.jsx(n,{variant:"outlined",color:"error",onClick:t,children:"Tutup"}),e.jsx(n,{variant:"contained",color:"success",type:"submit",children:l?e.jsx(G,{size:20,color:"inherit"}):"Tambah"})]})]})})})})},Q=()=>{const[r,t]=c.useState(!1),[o,a]=c.useState(!1);return e.jsxs(d,{sx:{display:"flex",justifyContent:"end",gap:1,p:1,boxShadow:2,bgcolor:"white",borderRadius:1},children:[e.jsx(n,{variant:"contained",color:"success",startIcon:e.jsx(A,{}),onClick:()=>a(!0),sx:{width:120},children:"Tambah"}),e.jsx(n,{startIcon:e.jsx(H,{}),variant:"contained",color:"error",onClick:()=>t(!0),sx:{width:120},children:"Hapus"}),e.jsx($,{open:o,close:()=>a(!1)}),e.jsx(O,{open:r,close:()=>t(!1)})]})};var j={},W=S;Object.defineProperty(j,"__esModule",{value:!0});var T=j.default=void 0,J=W(E()),K=e;T=j.default=(0,J.default)((0,K.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");const U=[{label:"Satuan",width:170},{label:"Tingkat",width:170},{label:"Aksi",width:170}],V=({grades:r})=>{const[t,{data:o,isSuccess:a,isLoading:p,error:l,reset:m}]=k(),b=s=>t(s);return c.useEffect(()=>{a&&x.success(o.message),l&&x.error(l.data.message)},[o,a,l]),e.jsx(L,{children:e.jsx(M,{sx:{height:{xs:500,md:530,xl:630},overflow:"auto"},children:e.jsxs(D,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(q,{children:e.jsx(g,{children:U.map((s,i)=>e.jsx(u,{align:"center",sx:{width:s.width},children:s.label},i))})}),e.jsx(F,{children:r==null?void 0:r.map((s,i)=>e.jsxs(g,{children:[e.jsx(u,{align:"center",children:s.homebase}),e.jsx(u,{align:"center",children:s.grade}),e.jsx(u,{align:"center",children:e.jsx(z,{onClick:()=>b(s.id),children:e.jsx(T,{sx:{color:"red"}})})})]},i))})]})})})},Ae=()=>{const{data:r,isLoading:t}=R();return e.jsxs(_,{children:[e.jsx(P,{title:"Grades"}),e.jsxs(h,{container:!0,sx:{minHeight:"80vh",display:"flex",flexDirection:"column",gap:1},children:[e.jsx(h,{item:!0,xs:12,md:12,children:e.jsx(Q,{})}),t?e.jsx(N,{variant:"rounded",height:530}):e.jsx(h,{item:!0,xs:12,md:12,children:e.jsx(V,{grades:r})})]})]})};export{Ae as default};
