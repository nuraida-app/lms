import{i as A,j as e,b as d,a as C,r as l,aj as u,u as E,c,ak as P,al as R}from"./index-Cw8L1vs3.js";import{d as q,a as F,A as W,b as O,u as N,C as Q,c as V,e as f,D as m}from"./FolderCopy-BabjifNh.js";import{d as X,a as G}from"./ChevronRight-BT2jkoG5.js";import{r as U}from"./createSvgIcon-Dv0_A-gv.js";import{d as J}from"./CalendarMonth-CAYdgdi8.js";import{d as K,S as Y}from"./Style-B3G7DoKD.js";import{L as g,a as Z,b as j,c as w,d as tt}from"./ExitToApp-DSNQ2o4h.js";import{u as et}from"./useTheme-D38HHwaQ.js";import{T as it,L as b}from"./Toolbar-vPzkj2cB.js";import{I as v}from"./IconButton-JNbI7kTA.js";import{T as y}from"./Typography-DBHcGHhC.js";var p={},st=A;Object.defineProperty(p,"__esModule",{value:!0});var I=p.default=void 0,at=st(U()),nt=e;I=p.default=(0,at.default)((0,nt.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");const rt=()=>{const{user:t}=d(s=>s.authentication),i=[{label:"Dashboard",link:"/teacher/dashboard",icon:e.jsx(q,{sx:{color:"white"}})},{label:"Subjects",link:"/teacher/subjects",icon:e.jsx(K,{sx:{color:"white"}})},{label:"Quizzes",link:"/teacher/quizzes",icon:e.jsx(F,{sx:{color:"white"}})},{label:"Schedules",link:"/teacher/schedules",icon:e.jsx(J,{sx:{color:"white"}})}];return(t==null?void 0:t.homeroom)===1&&i.splice(1,0,{label:"Database",link:"/teacher/database",icon:e.jsx(I,{sx:{color:"white"}})}),i},ot=()=>{const t=C(),{user:i,isLogout:s}=d(n=>n.authentication);l.useEffect(()=>{const n=setTimeout(()=>{(i==null?void 0:i.role)!=="teacher"&&t("/")},2e3);return()=>clearTimeout(n)},[i,t]),l.useEffect(()=>{s&&(window.location.href="/",localStorage.removeItem("login"))},[s])},o=240;function ct(t){return{children:`${t.split(" ")[0][0]}${t.split(" ")[1][0]}`}}const S=t=>({width:o,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),k=t=>({transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${t.spacing(7)} + 1px)`,[t.breakpoints.up("sm")]:{width:`calc(${t.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),D=u("div")(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar})),lt=u(W,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:i})=>({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...i&&{marginLeft:o,width:`calc(100% - ${o}px)`,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})}})),dt=u(O,{shouldForwardProp:t=>t!=="open"})(({theme:t,open:i})=>({width:o,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...i&&{...S(t),"& .MuiDrawer-paper":S(t)},...!i&&{...k(t),"& .MuiDrawer-paper":k(t)}})),yt=({children:t})=>{const i=C(),{user:s,isAuthLoading:n}=d(r=>r.authentication),x=et(),L=N(x.breakpoints.down("sm")),[a,h]=l.useState(!L),$=()=>{h(!0)},z=()=>{h(!1)},_=()=>i("/teacher/profile"),M=E(),B=()=>M(R());ot();const H=rt();return e.jsxs(c,{sx:{display:"flex"},children:[e.jsx(Q,{}),e.jsx(lt,{position:"fixed",open:a,sx:{bgcolor:"#4D44B5"},children:e.jsxs(it,{children:[e.jsx(v,{color:"inherit","aria-label":"open drawer",onClick:$,edge:"start",sx:{marginRight:5,...a&&{display:"none"}},children:e.jsx(V,{})}),n?e.jsx(Y,{variant:"text",width:180,sx:{fontSize:"2rem"}}):e.jsxs(c,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(y,{variant:"h6",noWrap:!0,component:"div",children:s==null?void 0:s.name}),e.jsx(f,{...ct(s==null?void 0:s.name),onClick:_,sx:{cursor:"pointer"}})]})]})}),e.jsxs(dt,{variant:"permanent",open:a,children:[e.jsxs(D,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(f,{src:"/nibs.png"}),e.jsx(y,{fontWeight:"bold",children:"Nuraida LMS"}),e.jsx(v,{onClick:z,children:x.direction==="rtl"?e.jsx(X,{}):e.jsx(G,{})})]}),e.jsx(m,{}),e.jsx(g,{children:H.map((r,T)=>e.jsx(Z,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(j,{component:P,to:r.link,sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[e.jsx(b,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center"},children:r.icon}),e.jsx(w,{primary:r.label,sx:{opacity:a?1:0}})]})},T))}),e.jsx(m,{}),e.jsx(g,{children:e.jsxs(j,{onClick:B,children:[e.jsx(b,{children:e.jsx(tt,{sx:{color:"white"}})}),e.jsx(w,{primary:"Logout"})]})})]}),e.jsxs(c,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9",minHeight:"100vh"},children:[e.jsx(D,{}),t]})]})};export{yt as L};
