import{bu as I,r as a,j as e,c as E,bv as y,bw as A}from"./index-G82UTrCn.js";import{a as R}from"./Layout-G7IJTj8o.js";import{d as H}from"./MoreHoriz-C-fQaa3X.js";import{M as P,F as w}from"./Modal-CtA4xjVx.js";import{T as C,I as g}from"./TextField-ByeyRurH.js";import{F as v}from"./FormControl-Dlf-YlAn.js";import{S}from"./Select-DNMQGzct.js";import{M as t}from"./MenuItem-CNbPalIX.js";import{P as k}from"./Paper-DBOqaJq5.js";import{I as M}from"./Input-syLy80gE.js";import{T as L}from"./TableContainer-CUCdmgqw.js";import{T as F,a as B,b as T,c as m}from"./TableRow-CO8xwdyM.js";import{T as _}from"./TableBody-Cv424Fuu.js";import{I as D}from"./IconButton-CWqouqv2.js";import{M as G}from"./Menu-D9wNm7WS.js";import"./createSvgIcon-CeYISK_x.js";import"./Typography-CoGnB29M.js";import"./PeopleAlt-DBuvqLwj.js";import"./ExitToApp-0GzhY9To.js";import"./Grid-BgbEqzWG.js";import"./useTheme-DJawdtle.js";import"./utils-ByYNmCUA.js";import"./listItemIconClasses-BSIN4rD4.js";import"./GlobalStyles-D58LhnrN.js";import"./Grow-Buq8Ogz4.js";const N=({open:n,close:u,admin:r})=>{const{data:i}=I(),[h,c]=a.useState(""),[j,l]=a.useState(""),[p,x]=a.useState("--Choose Role--"),[f,b]=a.useState("--Choose Homebase--"),[o,d]=a.useState("");return a.useEffect(()=>{r&&(c(r.name),l(r.email),x(r.role),b(r.homebase_id?r.homebase_id:null))},[r]),e.jsx(P,{open:n,onClose:u,closeAfterTransition:!0,children:e.jsx(w,{in:n,children:e.jsx(E,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#ffff",boxShadow:24,p:2,borderRadius:"5px"},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx(C,{label:"Name",value:h||"",onChange:s=>c(s.target.value),InputLabelProps:{shrink:!0}}),e.jsx(C,{label:"Email",value:j||"",onChange:s=>l(s.target.value),InputLabelProps:{shrink:!0}}),e.jsxs(v,{fullWidth:!0,children:[e.jsx(g,{children:"Role"}),e.jsxs(S,{label:"Role",value:p,onChange:s=>x(s.target.value),children:[e.jsx(t,{value:"--Choose Role--",children:"--Choose Role--"}),e.jsx(t,{value:"super-admin",children:"Super Admin"}),e.jsx(t,{value:"admin",children:"Admin"})]})]}),p==="admin"&&e.jsxs(v,{fullWidth:!0,children:[e.jsx(g,{children:"Homebase"}),e.jsxs(S,{label:"Homebase",value:f,onChange:s=>b(s.target.value),children:[e.jsx(t,{value:"--Choose Homebase--",children:"--Choose Homebase--"}),i==null?void 0:i.map(s=>e.jsx(t,{value:s.id,children:s.name},s.id))]})]}),e.jsx(C,{label:"Password",type:"password",value:o||"",onChange:s=>d(s.target.value),InputLabelProps:{shrink:!0}})]})})})})},ue=()=>{const[n,u]=a.useState(null),r=!!n,[i,h]=a.useState(!1),[c,j]=a.useState(""),{data:l}=y(),{data:p}=A(c,{skip:!c}),x=(o,d)=>{u(o.currentTarget),j(d)},f=()=>{u(null)},b=()=>{h(!0)};return e.jsx(R,{children:e.jsxs(k,{sx:{p:1},children:[e.jsx(E,{children:e.jsx(M,{placeholder:"Search Admin"})}),e.jsx(L,{children:e.jsxs(F,{children:[e.jsx(B,{children:e.jsx(T,{children:["Name","Email","Role","Action"].map(o=>e.jsx(m,{align:"center",children:o},o))})}),e.jsx(_,{children:l==null?void 0:l.map(o=>e.jsxs(T,{children:[e.jsx(m,{align:"center",children:o.name}),e.jsx(m,{align:"center",children:o.email}),e.jsx(m,{align:"center",children:o.role}),e.jsx(m,{align:"center",children:e.jsx(D,{color:"primary",id:"basic-button","aria-controls":r?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,onClick:d=>x(d,o.id),children:e.jsx(H,{})})})]},o.id))})]})}),e.jsxs(G,{id:"basic-menu",anchorEl:n,open:r,onClose:f,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(t,{onClick:b,children:"Edit"}),e.jsx(t,{children:"Delete"})]}),e.jsx(N,{open:i,close:()=>h(!1),admin:p})]})})};export{ue as default};
