import{i as u,j as e,a as j,c as g,aH as b,b as v,M as y,aI as T}from"./index-CFLTN1m7.js";import{L as w}from"./Layout-ctkSAbzZ.js";import{P as D}from"./PageName-C-CSELxM.js";import{r as _}from"./createSvgIcon-T2x4Gml6.js";import{T as C}from"./TableContainer-D_uS1EHl.js";import{P as I}from"./Paper-BXkIlh-U.js";import{T as P,a as H,b as p,c as t}from"./TableRow-mg69BRhc.js";import{T as N}from"./TableBody-DXARoap-.js";import{I as R}from"./IconButton-ByLl6sVS.js";import{G as S}from"./Grid-StTGewUk.js";import"./ChevronRight-Bme9Hnvl.js";import"./CalendarMonth-CHVRLIhS.js";import"./Style-1QwCO5ov.js";import"./ExitToApp-B-9Gtlvi.js";import"./Typography-CHJpYQNO.js";import"./useTheme-DnE98ifX.js";import"./Toolbar-CMmVOmlh.js";import"./getThemeProps-DErmPepc.js";import"./Modal-B5cU9yt9.js";import"./GlobalStyles-DbM6d0GN.js";import"./listItemIconClasses-Pf23efNw.js";var d={},$=u;Object.defineProperty(d,"__esModule",{value:!0});var h=d.default=void 0,k=$(_()),F=e;h=d.default=(0,k.default)((0,F.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"Launch");const G=a=>b`
  from {
    width: 0;
  }
  to {
    width: ${a}%;
  }
`,L=({students:a,database:i})=>{const l=j(),c=(r,m)=>{const o=r.replace(/\s+/g,"-");l(`/teacher/${o}/${m}`)};return e.jsx(C,{component:I,sx:{height:{xs:500,md:530,lg:600},overflow:"auto"},children:e.jsxs(P,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(H,{children:e.jsx(p,{children:["No","NIS","Full Name","Class","Action","Status"].map(r=>e.jsx(t,{align:"center",children:r},r))})}),e.jsx(N,{children:a==null?void 0:a.map((r,m)=>{const o=i==null?void 0:i.find(n=>n.nis===r.nis),s=(o?Object.values(o).filter(n=>n!==null&&n!=="").length:0)/41*100,x=s.toFixed(),f=G(s);return e.jsxs(p,{children:[e.jsx(t,{align:"center",children:m+1}),e.jsx(t,{align:"center",children:r.nis}),e.jsx(t,{children:r.name}),e.jsx(t,{align:"center",children:r.class}),e.jsx(t,{align:"center",children:e.jsx(R,{color:"success",onClick:()=>c(r.name,r.nis),children:e.jsx(h,{})})}),e.jsx(t,{align:"center",children:e.jsx(g,{sx:{borderRadius:1,bgcolor:"#387F39",display:"flex",alignItems:"center",justifyContent:"center",p:.5,color:"white",animation:`${f} 1.5s ease-out`,width:`${s}%`},children:s>0?`${x}%`:0})})]},r.id)})})]})})},se=()=>{const{user:a}=v(c=>c.authentication),{data:i}=y(a==null?void 0:a.class_code,{skip:!(a!=null&&a.class_code)}),{data:l}=T();return e.jsxs(w,{children:[e.jsx(D,{title:"Database"}),e.jsx(S,{container:!0,sx:{minHeight:"85vh",display:"flex",flexDirection:"column",gap:1},children:e.jsx(L,{students:i,database:l})})]})};export{se as default};
