import{r as a,g as N,A as z,D as G,j as e,c as g,C as T}from"./index-Pi4NK-hc.js";import{d as R}from"./MoreHoriz-Cqc4rV0y.js";import{d as $}from"./Check-Bt_fLarP.js";import{d as w}from"./Remove-BCKl7l_7.js";import{L as F}from"./Layout-Bbg_g6JE.js";import{P as K}from"./Paper-Ds0x8VKA.js";import{I as Q}from"./Input-CM8kKTSM.js";import{T as W}from"./TableContainer-Dl90U6rU.js";import{T as X,a as C,b as r,c as q}from"./TableRow-CjK6bnuW.js";import{T as J}from"./TableHead-QSBjqVUO.js";import{I as i}from"./IconButton-DQIdw11I.js";import{M as O}from"./Menu-Blwxfrpe.js";import{M as y}from"./MenuItem-Rt4Dc3sg.js";import"./createSvgIcon-BYOduQ-c.js";import"./Typography-ChcBQgh6.js";import"./PeopleAlt-DRfyY0WF.js";import"./ExitToApp-wCZAPOmX.js";import"./Grid-jzXX0r0e.js";import"./useTheme-DKJ__Eh-.js";import"./utils-Cboa8wdK.js";import"./GlobalStyles-D4NvMpo5.js";import"./listItemIconClasses-BjYFQR0m.js";import"./Modal-aB4DLG-a.js";import"./Grow-Dvz_L04G.js";const U=[{label:"No",width:60},{label:"Satuan",width:90},{label:"NIP",width:90},{label:"Nama",width:170},{label:"Mapel",width:170},{label:"Walas",width:50},{label:"Kelas",width:50},{label:"Aksi",width:50}],ye=()=>{const[u,x]=a.useState(null),l=!!u,[o,I]=a.useState(""),[V,L]=a.useState(!1),M=(s,t)=>{x(s.currentTarget),I(t)},n=()=>{x(null)},{data:c,isLoading:S}=N(),[k,{data:p,isLoading:v,error:d,isSuccess:j}]=z(),[E,{data:Y}]=G(),P=()=>{o&&(n(),L(!0),E(o))},B=()=>{o&&(k(o),n())};a.useEffect(()=>{j&&toast.success(p.message),d&&toast.error(d.data.message)},[j,p,d]);const[f,D]=a.useState(""),H=s=>s.name.toLowerCase().includes(f.toLowerCase()),m=c==null?void 0:c.filter(H),_=s=>{D(s.target.value)};return e.jsx(F,{children:e.jsxs(K,{sx:{width:"100%",overflowX:"auto"},children:[e.jsx(g,{sx:{p:1,mb:1,display:"flex",justifyContent:"space-between",flexDirection:{xs:"column-reverse",md:"row"},gap:2},children:e.jsx(Q,{placeholder:"Search Teacher",value:f,onChange:_})}),S?e.jsx(g,{sx:{height:{xs:500,md:530,lg:650,xl:790},display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(T,{size:50})}):e.jsx(W,{sx:{height:{xs:500,md:530,lg:650,xl:790},overflow:"auto"},children:e.jsxs(X,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(J,{children:e.jsx(C,{children:U.map((s,t)=>e.jsx(r,{align:"center",sx:{width:s.width},children:s.label},t))})}),e.jsx(q,{children:m==null?void 0:m.map((s,t)=>{var b;return e.jsxs(C,{children:[e.jsx(r,{align:"center",children:t+1}),e.jsx(r,{align:"center",children:s.homebase_name}),e.jsx(r,{align:"center",children:s.nip}),e.jsx(r,{children:s.name}),e.jsx(r,{children:(b=s.subjects)==null?void 0:b.map((h,A)=>e.jsx("p",{children:h.subject},A))}),e.jsx(r,{align:"center",children:s.homeroom===1?e.jsx(i,{color:"success",children:e.jsx($,{})}):e.jsx(i,{color:"error",children:e.jsx(w,{})})}),e.jsx(r,{align:"center",children:s.class?e.jsx("p",{children:s.class}):e.jsx(i,{color:"error",children:e.jsx(w,{})})}),e.jsx(r,{align:"center",children:e.jsx(i,{color:"primary",id:"basic-button","aria-controls":l?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:h=>M(h,s.id),children:v?e.jsx(T,{size:20}):e.jsx(R,{})})})]},t)})})]})}),e.jsxs(O,{id:"basic-menu",anchorEl:u,open:l,onClose:n,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(y,{onClick:P,children:"Edit"}),e.jsx(y,{onClick:B,children:"Delete"})]})]})})};export{ye as default};
