import{i as M,j as e,b as l,a as B,r as c,s as d,u as T,c as p,ap as H,aq as E}from"./index-B4oIbNwU.js";import{d as q,a as A,A as P,b as R,u as F,C as W,T as O,c as N,e as Q,D as h,L as f,f as V}from"./PageName-CEARqxte.js";import{d as X,a as G}from"./ChevronRight-CvyNzzqS.js";import{r as U}from"./createSvgIcon-BZOpo86E.js";import{d as J}from"./CalendarMonth-Cs-Lek6-.js";import{d as K,S as Y}from"./Style-BHIr2vnK.js";import{u as Z}from"./useTheme-C3ddHqAM.js";import{I as m}from"./IconButton-DKYpUzhK.js";import{T as g}from"./Typography-DLQ9NUQX.js";import{L as j,a as ss,b as w,c as b}from"./ListItemText-snJx1fDo.js";var u={},es=M;Object.defineProperty(u,"__esModule",{value:!0});var D=u.default=void 0,as=es(U()),ts=e;D=u.default=(0,as.default)((0,ts.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage");const is=()=>{const{user:s}=l(t=>t.authentication),a=[{label:"Dashboard",link:"/teacher/dashboard",icon:e.jsx(q,{sx:{color:"white"}})},{label:"Subjects",link:"/teacher/subjects",icon:e.jsx(K,{sx:{color:"white"}})},{label:"Quizzes",link:"/teacher/quizzes",icon:e.jsx(A,{sx:{color:"white"}})},{label:"Schedules",link:"/teacher/schedules",icon:e.jsx(J,{sx:{color:"white"}})}];return(s==null?void 0:s.homeroom)===1&&a.splice(1,0,{label:"Database",link:"/teacher/database",icon:e.jsx(D,{sx:{color:"white"}})}),a},ns=()=>{const s=B(),{user:a,isLogout:t}=l(i=>i.authentication);c.useEffect(()=>{const i=setTimeout(()=>{(a==null?void 0:a.role)!=="teacher"&&s("/")},2e3);return()=>clearTimeout(i)},[a,s]),c.useEffect(()=>{t&&(window.location.href="/",localStorage.removeItem("login"))},[t])},o=240,v=s=>({width:o,transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#4D44B5",color:"white"}),S=s=>({transition:s.transitions.create("width",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),overflowX:"hidden",width:`calc(${s.spacing(7)} + 1px)`,[s.breakpoints.up("sm")]:{width:`calc(${s.spacing(8)} + 1px)`},backgroundColor:"#4D44B5",color:"white"}),y=d("div")(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:s.spacing(0,1),...s.mixins.toolbar})),rs=d(P,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({zIndex:s.zIndex.drawer+1,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen}),...a&&{marginLeft:o,width:`calc(100% - ${o}px)`,transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.enteringScreen})}})),os=d(R,{shouldForwardProp:s=>s!=="open"})(({theme:s,open:a})=>({width:o,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...a&&{...v(s),"& .MuiDrawer-paper":v(s)},...!a&&{...S(s),"& .MuiDrawer-paper":S(s)}})),js=({children:s})=>{const{user:a,isAuthLoading:t}=l(r=>r.authentication),i=Z(),k=F(i.breakpoints.down("sm")),[n,x]=c.useState(!k),I=()=>{x(!0)},L=()=>{x(!1)},z=T(),_=()=>z(E());ns();const C=is();return e.jsxs(p,{sx:{display:"flex"},children:[e.jsx(W,{}),e.jsx(rs,{position:"fixed",open:n,sx:{bgcolor:"#4D44B5"},children:e.jsxs(O,{children:[e.jsx(m,{color:"inherit","aria-label":"open drawer",onClick:I,edge:"start",sx:{marginRight:5,...n&&{display:"none"}},children:e.jsx(N,{})}),t?e.jsx(Y,{variant:"text",width:180,sx:{fontSize:"2rem"}}):e.jsx(g,{variant:"h6",noWrap:!0,component:"div",children:a==null?void 0:a.name})]})}),e.jsxs(os,{variant:"permanent",open:n,children:[e.jsxs(y,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(Q,{src:"/nibs.png"}),e.jsx(g,{fontWeight:"bold",children:"Nuraida LMS"}),e.jsx(m,{onClick:L,children:i.direction==="rtl"?e.jsx(X,{}):e.jsx(G,{})})]}),e.jsx(h,{}),e.jsx(j,{children:C.map((r,$)=>e.jsx(ss,{disablePadding:!0,sx:{display:"block"},children:e.jsxs(w,{component:H,to:r.link,sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},children:[e.jsx(f,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center"},children:r.icon}),e.jsx(b,{primary:r.label,sx:{opacity:n?1:0}})]})},$))}),e.jsx(h,{}),e.jsx(j,{children:e.jsxs(w,{onClick:_,children:[e.jsx(f,{children:e.jsx(V,{sx:{color:"white"}})}),e.jsx(b,{primary:"Logout"})]})})]}),e.jsxs(p,{component:"main",sx:{flexGrow:1,p:3,bgcolor:"#EDF3F9"},children:[e.jsx(y,{}),s]})]})};export{js as L};
