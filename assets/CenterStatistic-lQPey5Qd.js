import{S as A,bM as D,j as e,c as G,r as p,i as C,bN as q,k as N}from"./index-DLCRynLT.js";import{L as E}from"./Layout-CuwM1suJ.js";import{L as H,l as T}from"./LinearProgress-Bn6MRG-Q.js";import{P as y}from"./Paper-CHu71e6T.js";import{T as b}from"./Typography-DZcqQ05_.js";import{T as Q}from"./Tooltip-hpEKikkx.js";import{S as F}from"./Stack-CJamUc71.js";import{I as V}from"./Input-BqsWAegp.js";import{T as k}from"./TableContainer-BF1G4wFS.js";import{T as S,a as h,b as l,c as w}from"./TableRow-BPWIvLzO.js";import{T as O}from"./TableHead-CpNOZNoK.js";import{T as z}from"./TablePagination-DGFxUvnY.js";import{r as I}from"./createSvgIcon-D59g-G7-.js";import{b as x,c as g}from"./ExitToApp-BftrtyMZ.js";import{L as j}from"./Toolbar-t9jUTOQF.js";import{G as f}from"./Grid-K40SvTIk.js";import{B as K}from"./ButtonGroup-DgkBJZYF.js";import{B as Y}from"./Button-CdInyn4L.js";import"./PeopleAlt-Dbog-w7l.js";import"./listItemIconClasses-Dr45LKzl.js";import"./useTheme-9Di1Vo7v.js";import"./Popper-Ccb4MW6P.js";import"./Modal-D_AunpFB.js";import"./Grow-zjrQf6xw.js";import"./useThemeProps-DjHNRKHp.js";import"./getThemeProps-CWQWAcF6.js";import"./utils-C85PYznO.js";import"./GlobalStyles-CRrAFrpS.js";import"./KeyboardArrowRight-C34YZKTH.js";import"./IconButton-DjRrq_Mc.js";import"./Select-QAVwkW3O.js";import"./Menu-BNjRSXhC.js";import"./MenuItem-CNnwtsjM.js";const J=A(H)(({theme:r})=>({height:10,borderRadius:5,[`&.${T.colorPrimary}`]:{backgroundColor:r.palette.grey[200],...r.applyStyles("dark",{backgroundColor:r.palette.grey[800]})},[`& .${T.bar}`]:{borderRadius:5,backgroundColor:"#1a90ff",...r.applyStyles("dark",{backgroundColor:"#308fe8"})}})),U={Kerabat:"/market.png",Instagram:"/instagram.png",YouTube:"/youtube.png",Pameran:"/target.png",Brosur:"/brochure.png",Website:"/web-link.png"},X=()=>{const{data:r}=D();return e.jsxs(y,{sx:{p:1},children:[e.jsx(b,{variant:"h6",fontWeight:700,children:"Media Analisis"}),r==null?void 0:r.map((n,t)=>e.jsxs(G,{sx:{display:"flex",gap:1,alignItems:"center",mt:2},children:[e.jsx("img",{src:U[n.media]||"/default.png",alt:n.media,style:{height:30,width:30,objectFit:"cover"}}),e.jsx(Q,{title:n.media,placement:"top-end",children:e.jsx(F,{sx:{flexGrow:1},children:e.jsx(J,{variant:"determinate",value:Number(n.percentage)})})}),e.jsx(b,{children:`${n.percentage}%`})]},t))]})},u=({type:r})=>{const[n,t]=p.useState(""),[a,i]=p.useState(0),[s,o]=p.useState(50),[d,L]=p.useState([]);p.useEffect(()=>{const c=r==null?void 0:r.filter(m=>m.name.toLowerCase().includes(n.toLowerCase()));L(c||[])},[n,r]);const $=c=>{t(c.target.value)},B=(c,m)=>{i(m)},W=c=>{o(parseInt(c.target.value,10)),i(0)};return e.jsxs(y,{sx:{width:"100%"},children:[e.jsx(V,{placeholder:"Search",variant:"outlined",value:n,onChange:$,margin:"dense",sx:{m:1}}),e.jsx(k,{sx:{height:{xs:500,md:550,lg:680}},children:e.jsxs(S,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(O,{children:e.jsxs(h,{children:[e.jsx(l,{align:"center",children:"Name"}),e.jsx(l,{align:"center",children:"Total"})]})}),e.jsx(w,{children:d==null?void 0:d.slice(a*s,a*s+s).map((c,m)=>e.jsxs(h,{children:[e.jsx(l,{children:c.name}),e.jsx(l,{align:"center",children:c.total})]},m))})]})}),e.jsx(z,{rowsPerPageOptions:[50,100],component:"div",count:d==null?void 0:d.length,rowsPerPage:s,page:a,onPageChange:B,onRowsPerPageChange:W})]})};var P={},Z=C;Object.defineProperty(P,"__esModule",{value:!0});var v=P.default=void 0;te(p);var ee=Z(I()),re=e;function M(r){if(typeof WeakMap!="function")return null;var n=new WeakMap,t=new WeakMap;return(M=function(a){return a?t:n})(r)}function te(r,n){if(r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var t=M(n);if(t&&t.has(r))return t.get(r);var a={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in r)if(s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)){var o=i?Object.getOwnPropertyDescriptor(r,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=r[s]}return a.default=r,t&&t.set(r,a),a}v=P.default=(0,ee.default)((0,re.jsx)("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"}),"WhatsApp");var _={},ne=C;Object.defineProperty(_,"__esModule",{value:!0});var R=_.default=void 0,ae=ne(I()),se=e;R=_.default=(0,ae.default)((0,se.jsx)("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutlineOutlined");const oe=()=>{const{data:r}=q();return e.jsxs(k,{sx:{height:{xs:500,md:550,lg:680,xl:790}},children:[e.jsx(b,{variant:"h6",children:"Targeted New Student"}),e.jsxs(S,{stickyHeader:!0,"aria-label":"sticky table",children:[e.jsx(O,{children:e.jsx(h,{children:["Student","Target Name","Phone"].map(n=>e.jsx(l,{align:"center",children:n},n))})}),e.jsx(w,{children:r==null?void 0:r.map((n,t)=>{var a;return e.jsxs(h,{children:[e.jsx(l,{children:n.student_name}),e.jsx(l,{align:"center",children:(a=n.family)==null?void 0:a.map((i,s)=>e.jsxs(x,{children:[e.jsx(j,{children:e.jsx(R,{color:"success"})}),e.jsx(g,{primary:i.target_name,secondary:`Age ${i.age}`})]},s))}),e.jsxs(l,{children:[e.jsxs(x,{onClick:()=>window.open(`https://wa.me/${n.phone.father_phone}`,"_blank"),children:[e.jsx(j,{children:e.jsx(v,{color:"success"})}),e.jsx(g,{primary:"Ayah",secondary:n.phone.father_phone})]}),e.jsxs(x,{onClick:()=>window.open(`https://wa.me/${n.phone.mother_phone}`,"_blank"),children:[e.jsx(j,{children:e.jsx(v,{color:"success"})}),e.jsx(g,{primary:"Ibu",secondary:n.phone.mother_phone})]})]})]},t)})})]})]})},qe=()=>{var s;const[r,n]=p.useState("Province"),{data:t}=N(),a=[{name:"Province",component:e.jsx(u,{type:t==null?void 0:t.provinces})},{name:"City",component:e.jsx(u,{type:t==null?void 0:t.regencies})},{name:"District",component:e.jsx(u,{type:t==null?void 0:t.districts})},{name:"Village",component:e.jsx(u,{type:t==null?void 0:t.villages})},{name:"Targeted",component:e.jsx(oe,{})}],i=(s=a.find(o=>o.name===r))==null?void 0:s.component;return e.jsx(E,{children:e.jsxs(f,{container:!0,children:[e.jsx(f,{item:!0,xs:12,md:8,sx:{px:1},children:e.jsxs(y,{sx:{p:1,display:"flex",justifyContent:"start",alignItems:"center",flexDirection:"column",gap:1},children:[e.jsx(K,{children:a==null?void 0:a.map(o=>e.jsx(Y,{variant:r===o.name?"contained":"outlined",onClick:()=>n(o.name),children:o.name},o.name))}),i]})}),e.jsx(f,{item:!0,xs:12,md:4,sx:{px:1},children:e.jsx(X,{})})]})})};export{qe as default};
