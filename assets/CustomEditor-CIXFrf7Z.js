var v=Object.defineProperty;var x=(i,t,e)=>t in i?v(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var f=(i,t,e)=>x(i,typeof t!="symbol"?t+"":t,e);import{a5 as a,r as u,j as d,c as g}from"./index-DrjOkbMF.js";import{R as k}from"./quill.snow-DW9LYrrA.js";import{E as y}from"./Editor-DouJlgSj.js";class o extends u.Component{constructor(e){super(e);f(this,"handleChange",e=>{this.setState({editorHtml:e}),this.props.onChange(e)});this.state={editorHtml:e.value||""},this.reactQuillRef=null}componentDidUpdate(e){e.value!==this.props.value&&this.setState({editorHtml:this.props.value})}render(){const{placeholder:e}=this.props;return d.jsx(g,{sx:{height:290,bgcolor:"white"},children:d.jsx(k,{ref:r=>{this.reactQuillRef=r},theme:"snow",value:this.state.editorHtml,onChange:this.handleChange,modules:o.modules(),formats:o.formats,placeholder:e,style:{height:"250px"}})})}}o.modules=()=>({toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},clipboard:{matchVisual:!1}});o.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];o.propTypes={placeholder:a.string,value:a.string,onChange:a.func.isRequired};const C=({placeholder:i,value:t,onChange:e})=>{const r=u.useRef(null),b=l=>{e(l)};return u.useEffect(()=>{r.current&&r.current.setContent(t||"")},[t]),d.jsx(g,{sx:{height:450,bgcolor:"white"},children:d.jsx(y,{apiKey:"z7vwrbf4j0m50fzfvcefz3e7beevo26e4egpqf02zvfng8yd",onInit:(l,h)=>r.current=h,value:t,init:{height:450,placeholder:i,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount"],toolbar:"undo redo | blocks | image | media bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",images_upload_url:"https://api.nibs.sch.id/upload/images",file_picker_callback:function(l,h,R){var s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept","audio/*"),s.onchange=function(){var c=this.files[0],p=new FileReader;p.readAsDataURL(c),p.onload=function(){var m=new FormData;m.append("file",c),fetch("https://api.nibs.sch.id/upload/audios",{method:"POST",body:m}).then(n=>n.json()).then(n=>{l(n.url,{title:c.name})}).catch(n=>{console.error("Error uploading image:",n),alert("Error uploading image")})}},s.click()}},onEditorChange:b})})};C.propTypes={placeholder:a.string,value:a.string,onChange:a.func.isRequired};export{C};
